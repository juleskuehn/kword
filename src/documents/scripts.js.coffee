								
# kword: image > ascii converter (version 0.2)
# mail@mikekuehn.ca

# test suite goes here
tests =

	testImage: [

		'.```````````                                           ` ``` ````.``````.`.ˆ,ˆ°___*"**=<)tJa2Gk8pq'
		'.`````````` `                                   `    ```` :``-,-°°+-o<"",+±*_<-°__***+=<)±exUGkPpp'
		'.`````````````    `      `  `                        ``.."*:"_°°"<":)=:F=?tc2v?C+*""*=<<)±1x4#X9g&'
		'.````````` `````  .``ˆ```` "  ˆ                     ` `-.?"_ç:+*("=Le5±vj[UU2±r2kX2?=<<??v5xA#k8gp'
		'.`````_..,`:*)-<°`°*."°`"-C_*..``                ``````ˆ.t+"t?(=lU±1ee24U#122$whGkkGwUt?ivIx2#k90p'
		'.``."*,"<"ˆ5<=é?v*5-t<<*>3+)_*--ˆ`  `         ` ``````ˆˆ?=+")?"o?v5U4AA3kfAwwhXk9khkP$knvJC%Fkh6pp'
		'`..*_i*<tU?é"<ç72"2+?Yo?L*?j*r<,+.```        ````````.ˆ_<i=<vlCJ3vUA32#eh2XXwk$hq&0kh$X$85ex4wP9pp'
		'.<cl?7+tç2Je<±<LéAçU*Utt+L)<"**_°ˆ```      ``````````.ˆ`**+<<v(U5UaGw#wXAwwkk9g90q$q&pp0$$kUAkh90p'
		'5l>1fé1c2C±Fa2YéCUY2L???(c<<?<<<=-```` ` `` `````````.ˆ""+=cvv)UY2AAw#khk$h$Pk689g6g0p0g9Kg$AkP9pp'
		'JGGk2Lrkv±LCfiUC1CYLçiv??CC%j±=<?,`````````````````.ˆˆ°_"??<oJLxCUnAGwkkh$kkGh$k8h$Pp6O06qppXkh8pp'
		'A5xGAvGLUxnréxexr7Lo1cx2vo?(i?<+"°.````````` ````.ˆ`ˆ-:"*<??oJ5Ja2Unwww#kXwkhk$$h$PP0Oqqg6pppwh6pp'
		'G4Xx3çLiFUx7Laov%Ltoeovtci5i(?=+_°ˆ.````````````..ˆ--_"++?ti±rçjéU22G#GF#wkkX#w#kXwhhh$6pp0gOp99pp'
		've5IUCjUFreçvc1vx7xcJiç5tet?v<=<"°ˆ.`````````````ˆˆ°__++<)(lIL%%24#XwXXwXXw##AA##AGwGw#kh8gqppp6pp'
		'ci[<???77roeairjeeIe1rltvi??)>+*"°-..```````````.,--""*<?troL2UAGwwXkhkkhXwwGGGwAAAUFGAGwX$pppppgp'
		'<*_*+=<<c[7jejCxYf%a%51jvttt<??+*_-..``````````..,°_"+<)tv5f2AwwXkhhhhhhkXXwGwX#w#AG#G4##whhgppp9p'
		'"**"">=?<7rojL5U2FFU2Ua5ejJvi??=*"°,.```````````ˆ--_*+?tv5éFGwkkkhh$9$hhkkXXXww#w#wwXw###wkh9gpp&p'
		'_"***??[t1IJxéé4AnAA#F2Yéaerit?=*"°ˆ..````  ````ˆ-:*=<iIL2A##khh99P9P9$$h$kk#wkwkkwkkXXXXXwkX6&&pp'
		'"*=<??v51JLU%vYAAGAA#GAF23a51lt?="_,..``    ````ˆ,:"<)JC4GAkhh$h9$P$9PhhhXkwXwwGGXkXkkkkkkkkh9p&p&'
		'*=<<±rCCaé5Fw2A4#GGX#G#FnAYxerl?=*_-..``     ```ˆ-""?±e4#XhP9$99P999$hw4UU5xLé4GA##kXhhhkh$$68pp&p'
		'+=cteéY2AU3a2é22UA4AGwAGFA2fxjv)<*"-ˆ.```    ```.-_*?çUGwh969666689hwwv1v<tovraé22wwhk$Ph$$$hOOp&&'
		'?içLYYa3)t"="+=""?[eUUA#A4nY5Jo??+"°````     ```.-°+7xAXk6O8699966h#1i<*_*<***??)oxGkXh99P99q00pp&'
		'ojxx4YCt<_°...-°"+++tofé4UUUéCjl?<"°.```     ```.-"<v2#hPq866h68$hAJ+-*:,°:""+*=<[o%nXP96q69600gp&'
		'12Y%Yj+"..`ˆ`ˆ:-°""++=vCLxf3LCroc<"°ˆ````    ```.-"?eAXh9q08P9P9hwr*-_:.*<<?)tvrt(ijU#k960O00qppp&'
		'f25L>*°ˆˆ":```-"+""*+=?±1éxxLçr1c+":.````    ````,"?5Fk90g0P$$hhXi_?°""°--*<=<t±[oxfé4w90gg0pgpppp'
		'U41(=°_ˆˆ`.-,.ˆ"*++??<=<?i55J7v±<="°.```     ````,_)éwh8pq6hhkhk1>)°<°ˆ:-v`:?==?JaxxYXw$0gppgpppp&'
		'4%t+*__"",```.-_**<<i7l??ioov7c?<=*°.```      ```,"?%wh8g8$hkXh2??+"""°`"5°"1??F2rrYAwk68g0ppppp&&'
		'%c?""<*""-ˆ`ˆ`""*=<t?<(v??ioi???<+"°.```      ``.,"?f#k689kkXk2o?<*v*+°-"?-"?<<C?teA4#k6qqggpppppp'
		'v<=?=>**-`. °<=*?<?GvtccJ??tc?==+*_-.```       ``ˆ_=aGhPPk##Xwé<+v+#iikYpXYwIokhCCpFn#Pg0pppggpppp'
		'c<o)=+c?i-°.2["??wigççiIec)?=?+"*"_-.```      ```._>14XhhXn4ka<*>k#8A$pq&gGgwhKU48gXX9$6pqgqggpppp'
		')C[L<?+q:1%<02FkUFAqF4k2L(<?"*"°°°-.`````     ````-<oUkkwGa5n?t2$9g90p&&&KmmmmKgpgX$0pgp0pq06ggppp'
		'j?iJrcvYvFawX09P9X9pXp9hkGx)*ˆ,°--ˆ.````      ````,+I%AGAYe7xFXPOhhké0hKmmKmKmKKmK&pgpKgg8p989gpgp'
		'?Fr&#JrXhwp$gmKKpg&pw$P$khk#t°.ˆˆˆ..````      ````-*J5Fnn2jcCgpp8hft?hkO&mmmmmKKmp&&pG&pppp6$89pgg'
		'iéALKPppppgKKmmm&phhAGA#hP$qP?``...`````      ````-*rxUYUYC±)#ggOF>*"#GXhpmK&0&K&p&pKpOp6qq8$9POOp'
		'eLF#29p0&pqp&mmmpkhh244GwkhqF<..```````      `````,"(j3aéeor<)G$Fv+:_5GfXh69hhh&pp&KKKKKmKppp0O6P6'
		'&O06&gpgp09p6p&8hwXkA2AXXXk2?°-.```````    ` `````-"?CaCLei)=+?F5t":">GGwYXG##0pg&&KKmmmmKmpppOO$k'
		'Opp&pgqO9p9Ph9hh#kwwGAw#4ae":--.````````     ````.ˆ"?1LjIot(*+<<v?[?_c°+vh#GX$gOp&&KKmmmmK&&p0h$XX'
		'&pppgg6Ph9q#XXw#FhOn%enFc[?_.-```````````     ```.-*)Cxjer?<+**"""<?=+<itoLvLAU#k9g&Kmmmmmm&p8kXwF'
		'wOhkXkkkkwwkkk9w1vv#t1xf?°*,..```````````   ` ```.-"?5LL5o<=+"_--_*+±=<ve5aé#Gk$$gpp&KmmKmKpOkhFéL'
		'UGkkhPh#Lvcc?_><GIvYe1(C?*".`````````````     ```ˆ:*?±CLeJ?=+"°-°ˆ_-"*ttaYf#wkhk$9gp&&KmKK&ghGYjL1'
		'j#kkXkk22G?xxXFeé4xeai*,_ˆ..``````````````    ```.°*)rjIIlc<+*:,-.-.°""*<r5AGkXkh800p&K&&&p6wYrt?['
		'c2wwAwUJC45xeeYéYLJ7<=°,ˆ..```````````````   ````ˆ°"<Jexeot?*"_-,ˆ-ˆ.°-ˆ__+?réAGXk$98gggg06hw3l?<='
		'<LCé2IérjCaeLUaLc+"_**.``````````````````` ``````.,"=oxxCo7?<*_°ˆ....`.-,.°"**<JLéU2AG#XkkX##UJ?+*'
		'+<ic±rl????<*<>+"-°. ,```````````````````` ` ````.ˆ_+irxxol?<*_:ˆ``........---:"*=?colo1L2A2fa5?**'
		'°-:_"""ˆ°°ˆˆ-°°°.ˆ..`````` ``````````````````````..-"?rC45vc<*":ˆ.....`.```.`.ˆ,-°°""*+++?irevt)<+'
		'.....ˆ.......`..`````````   ``````````````````````.ˆ:*)xxe1(?+":,...```.`.```......ˆˆˆ-°_""+??<<<='
		'```````````````````````    ``````````````     ```..,°*?eUéCJ?+*"-ˆ..`.``.`.```````..ˆˆˆ,-:_""+=+=<'
		'``` `````````````````       ````````````      ```.`-:*?r%U51(+*_,ˆ...````````````......ˆˆ,-°_"*+*<'
		'```````````````` ``          ```````````      ``.ˆ°°"+?JC32et=":-,..````````````.````...ˆˆ-°°°""*+'
		'``` `````````````           ` `````````````  ``.`ˆ_+>)1éj3LL7=""°ˆˆ.``````````````..`...ˆ,,,°°_"+='
		'`` ``````` `` `               ``````````..``...ˆ°"<trx4FGvféJ?*:--ˆ.````````````````....ˆˆˆ-°:"**?'
		' `````  `                     ``````.`-,°ˆ--ˆ--_*<çfG#wX#xtf3?*_-,ˆ...````````````````..ˆ,ˆ--""*=='
		'     ` ``                     ``````.-°_**":°_"+cYGwkkkhw4vxYi+_--.....``````````````....ˆ,-°""*<='
		'                              `````..-_*=<+*"*+?L2kkhhhhwAx?A±+_-ˆˆ....``````````````...ˆˆ,-_"++><'
		'                              `````..-"=?<=+*<<v2wkh8hkkXAév?o+_-ˆ....`.````.``.````.....--°""+*<?'
		'                              `````.-*<?<+++<?tLAXkhhhkkXG4Yv)<--ˆ.`..``````````````....ˆ-°°""*<<?'
		'`                             `````°*?[t<***=?oUG#XhhhkkXww#Fa<"-ˆ.ˆ.``.`.``````.......ˆ--°_"*=+?t'
		'```                          ````ˆ_>?ior<+*+?±CnGXkhhh9$kkkhkA)_,ˆ..`.````````..`...ˆ.----:""+=<?c'
		'`  `                         ``.ˆ"<iCgp&p<=<v5FAGwX$9mKK&6khhhA+,``.`....``..`..`..`ˆ,--°::"*+<?ct'
		' ` `                        ```ˆ"<)56g&KKp)iCYAAw#kkKKKKKp6hhhA>:ˆ.```````..`.....ˆˆ,,-°:_"**>?cco'
		'```                      ` ```.°+[çh0p&KmKçeY24wwwkKmmmK&&qhhh#i"ˆ`..``.`.....ˆˆ`ˆ--,-°-:_""+<?(lr'
		'```                       ````-"?o4Ppp&mmK&xaA#w#whmmmmKK&g9hh#%+-`...````......ˆˆ---°°__"*++<t?7j'
		'`````                   ``````°*ce#9gp&KmpwjY4G#GkpmmmmmK&q9hkww<°..````.......ˆ---°°°__""+<<?tteY'
		'`````` `               ```````_+tL#9pp&&&Ur)LUAF#$&KmmmKKpO$$k9Pe*,`````.`....-.,°°-_""""**<?ctJx%'
		'````````` `            ```````_>7IY$0pp0r*"<vanAX9&&&KK&&p8hhkpqF?°`````.`..ˆˆˆ---::"_"***<<tvrLLY'
		'````` ```      `    `  ```````"<iirjA8g?.``-+t1fAPg&pp&&pg89$pppk[*ˆ``.``...ˆ.--°°__"****=<(?rçx2A'
		'````````` ```      `   ````````=??<"_:ˆ`````-*=ieL2wk908O8$6pppqkC=:ˆ......ˆˆ,,°°°°""*+*+=?<vçeéAA'
		'``````````` ````      `````` ``+<<*°.````   `ˆ:"**<[1U#XX$Pg0g6hXo=",....`.ˆˆ,--::_"""=+*<t?vxL2AG'
		'``````````````       ``````````°==*,.````  ```...--°"?vxénXwG#A25o**-````..ˆˆ,-°:__*"*+<???7oeYAGX'
		'.`.``````````````   ` ```   ` `.:+°``````  ```````..ˆ_=?t±Ca5LLrt?*"°-ˆ...ˆˆ--°°°"""**=??c7Ij%24wh'
		'...```````````````  ` ``       `````````` ``````` ```ˆ"++=<?)??<<*"_-,ˆ..`ˆ---°_°"_"+=>???I5ça2Awh'
		'..````````````````` ``          ```````````````` `  `,-*++**+**+*""_°,ˆ...ˆ,--:__"**=<?t?tçx%Y4wXk'
		'ˆ..`..`````````````` `          ``````````...```` ˆ<1CfY+"""*"""""__-,,.ˆ.ˆ,°_:""_*=+<<??eJjféGwXO'
		'ˆˆ....`.````````````          `````````°":_"++±i)JCa2XXwFA""*"""_:°:--,,ˆˆ---°°""*+=<>?tioj5CFAXhP'
		'-ˆˆ...`..``````````` `      `````````.<?c+t<=*)"oGF2wXXéFwn<**"_":_::°°,,,--:-_"""++<??)vJe%%2GXhh'
		'-,`..`...`````````````    ``````````ˆi=<*??=2t*?cAGwr#wUxkw#x**"_:__::-°-,ˆ-°°""**++=?)±J1%éUFkkwP'
		'-,ˆ..ˆ..```````````  `  ` `````````_<cj+[2)ofL±wwk9$9ahh6XhwXA=*"""_°°°°,°--__""*==<??7lrj3éUAXkhq'
		'-,,ˆ..`...`.```````` ````````````.??LclUvo<wUwwkX6hq88wh6$hwhhk?**""__:__°°°:_"**+<<)iovj5aUFGw$h0'
		'°--ˆˆ`..`.`````````` ```````````.ir4vFciG2Cw%Xw$hkXpwqX$59999hhG[=*"__"_"°-_"""++=<??tvI5e2UFXXhPO'
		'---ˆˆˆ......```````````````````.iCC?2XkXwkXwhnGh$h9qAppqggg6968$4?>*""__:_"_""*><<<<t[o1Cx2nAXhh$q'
		'°--ˆˆˆˆ.....`.`````````````````?eUCéAAikjGh9PhhXpgppg98ghO#9k0pgqj?***""*__""+++=<<?ct1e5%YAXkkh6g'
		'_°---ˆˆ.`..`..```````````````.*UUAwGJokkX6O9$Ogp8pgppgppgpOg0ppppge=+*"*""***=<<<??)rlj5L%UAkXkh60'
		'_°:--,ˆˆ`....``.````````````.°U4aA?hhX$#k9966qp&&&pp&pp8pPqppppppp$r<=""**""+*><<?tciv5xffAGwh$9q9'
		'":°°--,ˆ.ˆ.ˆˆ....`````````.`ˆ1YXkXkXhhhqppg&pp&&&&&&&p&ppppp&&&p&&pFv<*"""*"+<<<??ttIjjx2UAXXh$8g9'
		'__°----,ˆ.ˆ......````````...=2kX9$g6Fp96pgp&p&&&&&&&K&&&&p&&&&&&&&&gYt>**"*+=<<?)tvovJLa2AGwXh90gO'
		'"_°°-°ˆˆˆ.ˆˆ.ˆˆ..`..````..._Gk9P0gX0ggp&pp&&&&&KK&&KK&K&&&&&K&K&&&&&he?+***=<?)colvoçeY4nFk#hh9gOp'
		'___:-°,,ˆˆ.ˆ........`.`..,:UXhw8gpp&p&pp&&&&&p&KmKKKKKKK&&Km&KK&K&&&pé<>*<<>><?voioIçe2FnAwhh9qqqp'
		'"___°°--,ˆˆ.,ˆ.`.......ˆ,_<kPqhppgp0&&&K&&&&KKKKKKKKKmmmKmKKKKKK&&&K&#r?=+<<?ctvçJeC5xUAAwXXh68gpp'
		'""_:°-°-ˆ-ˆˆˆˆ`....`ˆ--_"?nh$0ppp8p&&&&KKKKKKKKKKKKKKKmmmmmmKK&KKK&&&$C??=<??coJJ5Cx3é2AGXk$h96Ogp'
		'"":_°°----,ˆˆˆˆ.ˆˆˆˆ-°_*+5w8ppp&pg&&&KKKKKKKKK&KKKKKKKmmmmmmmmKKKK&K&qfl?<<)ivljC5eYYFFGGXkh9qg9qg'
		'""__°°-°--ˆˆ,ˆ,ˆˆˆˆˆ-"*?l#9pp&&&pp&KKKK&&&&&&&&K&&pOOh6gpKmmmmmmKKK&&g4±?<?ctroe%xaéUAF##XkP96Pgpp'
		'"""__°-°----ˆˆ,ˆ,ˆ--°"=t39pppppg&&&&gwwXwhhkkXwXkX#wX###A#99gKmmmmKK&pnot?<?voe1Yé3UFYGX#Xh8908g0g'
		'*""_°:-°-°----ˆˆ,,°°"+?CXppppppp&h2AIU2nnXkA%GUFAGA4Y2FxG<YkqG9&Kmm&K$J?))tcoIeCaYF4FAGGkh9q99qqpg'
		'""""_::---,,,-ˆ---°"+<iF8p&pp&pGAGUCJCaA1I#fjf225xUt2L#hnh:k99h0X&g69é5????tooJffé42AAAXXh9998pgO0'
		'*"""__°°-----,,,-°°"=)tnqp&$0#CAwCL<r%Fj:12Y3t4i<%5?AtXkLkFXpPh&k6wPAéjv?)tivjeéUFUAFG##k9P88ggggp'
		'**_"_°°°--------°°:"<=<Cc3GvwXG2C#2GLtn_ =UA<"13.J#iJ"GwkFhX&8nP$wAkA4Cit(?ll5aén22FG#wXX$66q0gggp'
		'**""":_°-°------°:_"+*==-?fAGGx4LwwéJ*U`,L4CI±#FIYYF2#X#XvhCéwphXXkkALCvc?(ljIaYUF2F#Gk#kh9OO0ggpp'
		'***"":_°-°----°-°__"""":°°?n3U1X)AoGAj+±:"5X2°k[?ACAY"%w$%09gG$qk9$hAU2o)[ivIIa3n4AnwGkk9$6P0qqggp'
		'*+""""_:°°--°-°°:__""°_°-°"eoAwUw3G#GA1Y"rek2Gk2nAGhn<Xh$F0hO6X$699XwXFo)[vl5eYY2wA#XXkhhP$g0ggppp'
		'**"*"""°_°-°°°:::___:°°°ˆ:_=iCAG4tXGwkkGFwL9#LGç5Aw#çA696$8p$gp0pg9P$X47ivvvjCéYnGAwX#kh$8O8ggppgp'
		'*""""""":°°°_:°°"_°°°_---:""=c4kGLow#éFwAkYvhwXahhAhhAqg6qpppg0ppgqqh#UJvvej55%FAGGkkk$P69O80ggpgp'
		'***"""_"_::°::_"__°:°-,,:_"*=<75AAwXGkwhjGXw$h$tk969$qg&gpg&pppggpgOhAaeJçJe354FA#wkkhP96q60gp0ppp'
		'+++*"*""_"__°""___°°°ˆ--°_*"+?lrL2#khh8P699k$g9q8g6ggpppppppppg0ggqhw4a5eeJJeUU2A#Xh$k9668gggggppp'
		'++*****"_"_:__"_:":::--°_"""*?tCU2FGXXh0pPgqOgO90OgpgppppppqOpggpO9k#né5e5CC3Af2AkXh$9P6gp8gggpppp'
		'==++***""""___"____°:_°__"""+<tJ5wXkkkh$8866000gO80O0gq896900gppg8hA4UYCCCjxéY2AGhkh99hO0pqqppgppp'
		'==++*+**""""""""_:__°°_::"""+<?754ww$hhh$80gg8hPpgpp0g0g0ppgpppp89XXhF3Lé%UYF4AU#kh$hh68pgpgpppppp'
		'====<=++***""""____:___°___**=<?oLA#h$89gppppppppp&p&ppppppppppq9hwk$hU3U%af2FA#wk99988gpgggpppppp'
		'<<>===<+*+*"*"_"___"":"":"_""*==<oYAwh9pppppp&&&&&&&&&&&pppppg89k#Gk9h2UL%YUUAG#kkPh8qq8ggpppppppp'
		'<><<+===++****"""""__:_:____""**+=ieUAwh9gppppp&&&&&&&&pppgqO9hhw#AF#XG2U2Uf2G4whhh9qg00pgpppppppp'
		'?<<<?<<<==**"*""""___"°"_____""""+=<)vLYGwh$Oqppgpppg0O89$hkkXX#AAnF2GFFé2n2UGw#k9O80pggpppppppppp'
		'??<?<<<<<==****"*"""""_:::__:_""_"__"=?t7e3YAGXX#kXXwG#A#GGAAF4F4UY33nGAFUUAG##khh$6gpgppppppppppp'
		'?????<?<<<==+++***""_:"°°:°_°_°-_°:-°-"*=+?vrJxLJ55LoCILLLxxLxaaxéxéa2F3U4UAAAXkhhOqgpppppgpppp&&&'
		'[??c<??<<<=+=+***"*""""___°,°°,---ˆ-ˆˆ---:""=*+>*+?<?<+???t7l7tooç55jx2U4F4GGGXk$P6gppppppppppppp&'
		'tc)()????<<<<+=+**""_""__:°-,,ˆ,--ˆ....``..-°ˆ:"-_-:____**=+<<)civJçx%fUFGAwAGX$9900pppppppppppppp'
		'ttctt((tc??<?=+++*""""""°_°,-,ˆˆ-.````````...ˆ--°.ˆˆˆˆˆˆ°""""*<<tc7Cx%23G#GXwkhh680pppppppppp&p&pp'
		'7ootiii(?c?<<>=+***"*""_::--,ˆˆˆ...`````````.`....ˆ..`.ˆ,-°_"*+<<?tveYY2GGw##k$$6g0ppppppppppppppp'
		'rrroovti[)?<<<+<+**""""_":°--ˆˆ.````.````````````...``..ˆ,-°"**=<?cJeY3FAw#XXh$$Ogppppppppppppppp&'
		'JJr1Iooit???<>=+++""*"""__°--,...`````````` .``````......ˆ°:"""=<?<vL%AA#GwkkkP6ggpppppppppppppp&K'
		'aLC11oov±ttc?<<>+*=""_"__°°--,..`````````` ````.``````.`.-°:""++<?trénFAGw#khh88ggppppppppppppp&&m'
		'féUCe11vvlvi?<<==+***:""_°-,ˆˆ..````````````````````.ˆ...°°_""++?)re34FFkXhhhPPqpppgppppppppppp&mm'
		'22éYLCe1rovtt?<<<*=**""__°--,...``````````````````...`..,--_""*=<irénAGXkk$hP8ppppppppppppppp&&mKm'
		'AFU2%L5CCoçri[<?<<=*"*"""°°°,ˆ...`.````````````...`ˆ`...,°°""**=?l5UA#Xkh$h9P0gpppppppppppppp&mmmm'
		'w#An2UéxLjjo7ic)<<<=**_:"__---ˆ...`````````````.`.`ˆ.ˆˆ-°°°""**<trx2wkkhP999qggppppppppppppp&Kmmmm'
		'kwwGF22Yfaeejv±[?<=++"*""__°°-ˆˆ....`````````..```ˆˆˆˆˆ-°__""=<)ra4Awkh9696gppppppppppppppp&Kmmmmm'
		'hhkwGA44fYxCCJ7tt?<<>+*"""__°--,,.`.``.````....ˆˆ,-,ˆˆ-°_""*+<<7eU#wkh88q6gppppppppppppppp&mmmmmmm'
		'O$kXwGGA42Y3aCçlt)?<<=**"":°_--,,ˆˆˆ`..`.....--°:-,ˆ--°°_""+=<±e3nXkPPqg0ppgppppppppppp&p&mmmmmmmm'
		'pg86kXX#wA443fajv7t??<=**"""___-----,ˆˆˆˆ,----°-:--,-°___*+=?7j%GXh9Pgpppgppgpppppppgppp&mmmmmmmmm'
		'pppg6hkhXGAAA4U%5j±i?<=**""""""__-:-°-----:°::_"":°°::""*+<t7CU4Xh$OqggppppppppppppppppKmmmmmmmmmm'
	]

	# outputs plain text of generated image to <pre> for text selection
	outputAscii: ->

		outputAscii = ''

		for row in this.testImage
			outputAscii += helpers.escapeHtml(row)
			outputAscii += '<br>'

		$('#output_ascii').html outputAscii


	# draws text (correct font / spacing) on <canvas> for accurate previewing
	previewResult: ->

		preview = document.getElementById('preview_result')
		returns = helpers.resizePreview(this.testImage,preview)
		newFont = returns[0]
		charHeight = returns[1]

		for i in [0...this.testImage.length]

			preview.getContext('2d').font = newFont
			preview.getContext('2d').fillText(this.testImage[i], 0, charHeight*(i+1))





# little functions stay here to keep things clean
helpers = 

	entityMap:
		"&": "&amp;"
		"<": "&lt;"
		">": "&gt;"
		'"': '&quot;'
		"'": '&#39;'
		"/": '&#x2F;'

	escapeHtml: (string) ->
		return String(string).replace(/[&<>"'\/]/g, (s) -> return helpers.entityMap[s])
	
	# set preview canvas size to fit window
	resizePreview: (targetAscii,preview) ->

		fontFamily = $('#font_family').val()
		fontSize = 5
		rowLength = $('#row_length').val()
		lineHeight = $('#line_height').val()
		preview.width = $(window).width() - 300
		newFont = fontSize + 'px ' + fontFamily
		preview.getContext('2d').font = newFont

		char =
			width: preview.getContext('2d').measureText('.').width

		charsPerLine = preview.width / char.width

		# set preview font size to fit window

		fontSize = (charsPerLine/rowLength) * fontSize
		newFont = fontSize + 'px ' + fontFamily
		preview.getContext('2d').font = newFont
		char.width = preview.getContext('2d').measureText('.').width
		char.height = fontSize * lineHeight

		# set preview canvas height

		preview.height = targetAscii.length * char.height
		windowHeight = $(window).height()

		if preview.height+40 > windowHeight

			charsPerCol = (windowHeight-40) / char.height
			fontSize = (charsPerCol/targetAscii.length) * fontSize
			char.height = fontSize * lineHeight
			newFont = fontSize + 'px ' + fontFamily
			preview.height = windowHeight-40

		return [newFont,char.height]




# initialization
$('document').ready ->

	tests.outputAscii()
	tests.previewResult()